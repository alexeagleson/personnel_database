<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>User Database</title>

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.0/normalize.min.css">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
    crossorigin="anonymous">
  <link rel="stylesheet" href="styles.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/node-uuid/1.4.8/uuid.min.js"></script>
  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
    crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
    crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
    crossorigin="anonymous"></script>
</head>

<body>
  <!-- Main Header -->
  <div class="jumbotron">
    <center>
      <h1 class="display-4">Personnel App</h1>
      <p class="lead">This is a simple example of a MySQL database that stores information about a person's name, age and favourite food.</p>
      <p class="small ml-3 mr-3">The information is stored on a live database, however it can be freely manipulated by anyone using the API on this
        page any way you like. The backend server is a REST API written in Node.js using Express.js. Frontend is plain JavaScript styled with Bootstrap
        4. Queries are submitted using both the ES6 Fetch (Promises) and ES2017 async/await. Data validation for SQL queries
        is handled by JavaScript's RegEx functions.</p>
      <hr class="my-4">
      <p>Source code is freely available on my
        <a href="https://github.com/alexeagleson/personnel_database">GitHub</a> page. See more projects on my webspace
        <a href="http://www.alexeagleson.ca">alexeagleson.ca</a> ~ 2018 Alex Eagleson</p>
    </center>
  </div>

  <!-- New Data Form -->
  <div class="row" id="submit-data-form">
    <div class="col-md-3"></div>
    <div class="col-md-6">
      <form id="new-database-entry" class="bg-light p-3">
        <input type="hidden" id="person-id">
        <div class="form-group">
          <label for="person-name">Name:</label>
          <input type="text" class="form-control" name="person-name" id="person-name">
        </div>
        <div class="form-group">
          <label for="person-age">Age:</label>
          <input type="number" class="form-control" name="person-age" id="person-age">
        </div>
        <div class="form-group">
          <label for="person-food">Favourite Food:</label>
          <input type="text" class="form-control" name="person-food" id="person-food">
        </div>
        <input type="submit" id="person-button" class="btn btn-primary" value="Submit New Entry">
        <input type="button" id="cancel-button" class="btn btn-danger" value="Cancel" onclick="hideSubmitComponent()">
      </form>
    </div>
    <div class="col-md-6"></div>
  </div>


  <!-- Loading Spinner -->
  <center>
    <div id="database-loader" class="loader"></div>
  </center>

  <!-- Data Table -->
  <div class="row m-2">
    <div class="col-sm-1 col-md-2"></div>
    <div class="col-sm-10 col-md-8">
      <center>
        <div class="table-responsive p-1">
          <table class="table table-striped table-sm">
            <thead>
              <tr>
                <th>Name</th>
                <th>Age</th>
                <th>Favourite Food</th>
                <th></th>
                <th></th>
              </tr>
            </thead>
            <tbody id="data-table-body">
            </tbody>
          </table>
        </div>
        <div class="pb-5">
          <a class="btn btn-primary btn-sm m-2" href="#submit-data-form" onclick="showSubmitComponent()">Submit New Entry</a>
          <button class="btn btn-danger btn-sm m-2" onclick="removeAllValues()">Initialize Empty</button>
          <button class="btn btn-danger btn-sm m-2" onclick="populateDummyData()">Initialize with Dummy Data</button>
        </div>
      </center>
    </div>
    <div class="col-sm-1 col-md-2"></div>
  </div>

  <!-- Error Message Modal -->
  <div class="modal fade" id="errorWarningModal" tabindex="-1" role="dialog" aria-labelledby="errorWarningModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="errorWarningModalLabel">Error</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div id="error-modal-text" class="modal-body">
          bones
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Ok</button>
        </div>
      </div>
    </div>
  </div>
</body>


<script src="dummyData/dummyData.js"></script>
<script src="dbqueries.js"></script>
<script src="app.js"></script>

</html>